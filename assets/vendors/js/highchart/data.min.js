!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/data",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){function t(e,t,r,n){e.hasOwnProperty(t)||(e[t]=n.apply(null,r))}t(e=e?e._modules:{},"mixins/ajax.js",[e["parts/Globals.js"],e["parts/Utilities.js"]],function(r,e){var n=e.merge,s=e.objectEach;r.ajax=function(e){var t=n(!0,{url:!1,type:"get",dataType:"json",success:!1,error:!1,data:!1,headers:{}},e);e={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"};var r=new XMLHttpRequest;if(!t.url)return!1;r.open(t.type.toUpperCase(),t.url,!0),t.headers["Content-Type"]||r.setRequestHeader("Content-Type",e[t.dataType]||e.text),s(t.headers,function(e,t){r.setRequestHeader(t,e)}),r.onreadystatechange=function(){if(4===r.readyState){if(200===r.status){var e=r.responseText;if("json"===t.dataType)try{e=JSON.parse(e)}catch(e){return void(t.error&&t.error(r,e))}return t.success&&t.success(e)}t.error&&t.error(r,r.responseText)}};try{t.data=JSON.stringify(t.data)}catch(e){}r.send(t.data||!0)},r.getJSON=function(e,t){r.ajax({url:e,success:t,dataType:"json",headers:{"Content-Type":"text/plain"}})}}),t(e,"modules/data.src.js",[e["parts/Globals.js"],e["parts/Utilities.js"]],function(m,e){var f=e.defined,t=e.extend,g=e.isNumber,p=e.objectEach,a=e.pick,v=e.splat;e=m.addEvent;function i(e,t,r){this.init(e,t,r)}var r=m.Chart,n=m.win.document,c=m.merge,y=m.fireEvent;t(i.prototype,{init:function(e,t,r){var n=e.decimalPoint;if(t&&(this.chartOptions=t),r&&(this.chart=r),"."!==n&&","!==n&&(n=void 0),this.options=e,this.columns=e.columns||this.rowsToColumns(e.rows)||[],this.firstRowAsNames=a(e.firstRowAsNames,this.firstRowAsNames,!0),this.decimalRegex=n&&new RegExp("^(-?[0-9]+)"+n+"([0-9]+)$"),this.rawColumns=[],this.columns.length){this.dataFound();var s=!0}this.hasURLOption(e)&&(clearTimeout(this.liveDataTimeout),s=!1),!(s=(s=(s=(s=s||this.fetchLiveData())||!!this.parseCSV().length)||!!this.parseTable().length)||this.parseGoogleSpreadsheet())&&e.afterComplete&&e.afterComplete()},hasURLOption:function(e){return!(!e||!(e.rowsURL||e.csvURL||e.columnsURL))},getColumnDistribution:function(){function i(e){return(m.seriesTypes[e||"line"].prototype.pointArrayMap||[0]).length}var o,l=this.chartOptions,e=this.options,t=[],u=l&&l.chart&&l.chart.type,h=[],d=[],c=0;e=e&&e.seriesMapping||l&&l.series&&l.series.map(function(){return{x:0}})||[],(l&&l.series||[]).forEach(function(e){h.push(i(e.type||u))}),e.forEach(function(e){t.push(e.x||0)}),0===t.length&&t.push(0),e.forEach(function(e){var r=new x,t=h[c]||i(u),n=(l&&l.series||[])[c]||{},s=m.seriesTypes[n.type||u||"line"].prototype.pointArrayMap,a=s||["y"];for(!f(e.x)&&!n.isCartesian&&s||r.addColumnReader(e.x,"x"),p(e,function(e,t){"x"!==t&&r.addColumnReader(e,t)}),o=0;o<t;o++)r.hasReader(a[o])||r.addColumnReader(void 0,a[o]);d.push(r),c++}),void 0===(e=m.seriesTypes[u||"line"].prototype.pointArrayMap)&&(e=["y"]),this.valueCount={global:i(u),xColumns:t,individual:h,seriesBuilders:d,globalPointArrayMap:e}},dataFound:function(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns)),this.getColumnDistribution(),this.parseTypes(),!1!==this.parsed()&&this.complete()},parseCSV:function(e){function t(t,e,r,n){function s(e){l=t[e],u=t[e-1],h=t[e+1]}function a(e){g.length<f+1&&g.push([e]),g[f][g[f].length-1]!==e&&g[f].push(e)}function i(){c<m||p<c?(++c,d=""):(!isNaN(parseFloat(d))&&isFinite(d)?(d=parseFloat(d),a("number")):isNaN(Date.parse(d))?a("string"):(d=d.replace(/\//g,"-"),a("date")),v.length<f+1&&v.push([]),r||(v[f][e]=d),d="",++f,++c)}var o=0,l="",u="",h="",d="",c=0,f=0;if(t.trim().length&&"#"!==t.trim()[0]){for(;o<t.length;o++){if(s(o),"#"===l)return void i();if('"'===l)for(s(++o);o<t.length&&('"'!==l||'"'===u||'"'===h);)('"'!==l||'"'===l&&'"'!==u)&&(d+=l),s(++o);else n&&n[l]?n[l](l,d)&&i():l===x?i():d+=l}i()}}var u=this,h=e||this.options,r=h.csv;e=void 0!==h.startRow&&h.startRow?h.startRow:0;var n,o,l,s=h.endRow||Number.MAX_VALUE,m=void 0!==h.startColumn&&h.startColumn?h.startColumn:0,p=h.endColumn||Number.MAX_VALUE,a=0,g=[],d={",":0,";":0,"\t":0},v=this.columns=[];if(r&&h.beforeParse&&(r=h.beforeParse.call(this,r)),r){if(r=r.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(h.lineDelimiter||"\n"),(!e||e<0)&&(e=0),(!s||s>=r.length)&&(s=r.length-1),h.itemDelimiter)var x=h.itemDelimiter;else x=null,l=o=0,r.some(function(e,t){var r=!1,n="";if(13<t)return!0;for(var s=0;s<e.length;s++){t=e[s];var a=e[s+1],i=e[s-1];if("#"===t)break;if('"'===t)if(r){if('"'!==i&&'"'!==a){for(;" "===a&&s<e.length;)a=e[++s];void 0!==d[a]&&d[a]++,r=!1}}else r=!0;else void 0!==d[t]?(n=n.trim(),isNaN(Date.parse(n))&&!isNaN(n)&&isFinite(n)||d[t]++,n=""):n+=t;","===t&&l++,"."===t&&o++}}),n=d[";"]>d[","]?";":",",h.decimalPoint||(h.decimalPoint=l<o?".":",",u.decimalRegex=new RegExp("^(-?[0-9]+)"+h.decimalPoint+"([0-9]+)$")),x=n;var i=0;for(a=e;a<=s;a++)"#"===r[a][0]?i++:t(r[a],a-e-i);h.columnTypes&&0!==h.columnTypes.length||!g.length||!g[0].length||"date"!==g[0][1]||h.dateFormat||(h.dateFormat=function(e,t){var r,n=[],s=0,a=!1,i=[],o=[];for((!t||t>e.length)&&(t=e.length);s<t;s++)if(void 0!==e[s]&&e[s]&&e[s].length){var l=e[s].trim().replace(/\//g," ").replace(/\-/g," ").replace(/\./g," ").split(" ");for(n=["","",""],r=0;r<l.length;r++)r<n.length&&(l[r]=parseInt(l[r],10),l[r]&&(o[r]=!o[r]||o[r]<l[r]?l[r]:o[r],void 0!==i[r]?i[r]!==l[r]&&(i[r]=!1):i[r]=l[r],31<l[r]?n[r]=l[r]<100?"YY":"YYYY":12<l[r]&&l[r]<=31?(n[r]="dd",a=!0):n[r].length||(n[r]="mm")))}if(a){for(r=0;r<i.length;r++)!1!==i[r]?12<o[r]&&"YY"!==n[r]&&"YYYY"!==n[r]&&(n[r]="YY"):12<o[r]&&"mm"===n[r]&&(n[r]="dd");return 3===n.length&&"dd"===n[1]&&"dd"===n[2]&&(n[2]="YY"),e=n.join("/"),(h.dateFormats||u.dateFormats)[e]?e:(y("deduceDateFailed"),"YYYY/mm/dd")}return"YYYY/mm/dd"}(v[0])),this.dataFound()}return v},parseTable:function(){var e=this.options,t=e.table,a=this.columns,i=e.startRow||0,r=e.endRow||Number.MAX_VALUE,o=e.startColumn||0,l=e.endColumn||Number.MAX_VALUE;return t&&("string"==typeof t&&(t=n.getElementById(t)),[].forEach.call(t.getElementsByTagName("tr"),function(e,s){i<=s&&s<=r&&[].forEach.call(e.children,function(e,t){var r=a[t-o],n=1;if(("TD"===e.tagName||"TH"===e.tagName)&&o<=t&&t<=l)for(a[t-o]||(a[t-o]=[]),a[t-o][s-i]=e.innerHTML;n<=s-i&&void 0===r[s-i-n];)r[s-i-n]=null,n++})}),this.dataFound()),a},fetchLiveData:function(){var i=this,o=this.chart,l=this.options,u=0,h=l.enablePolling,d=1e3*(l.dataRefreshRate||2),t=c(l);return!!this.hasURLOption(l)&&(d<1e3&&(d=1e3),delete l.csvURL,delete l.rowsURL,delete l.columnsURL,function s(a){function e(e,t,r){function n(){h&&o.liveDataURL===e&&(i.liveDataTimeout=setTimeout(s,d))}return e&&0===e.indexOf("http")?(a&&(clearTimeout(i.liveDataTimeout),o.liveDataURL=e),m.ajax({url:e,dataType:r||"json",success:function(e){o&&o.series&&t(e),n()},error:function(e,t){return++u<3&&n(),l.error&&l.error(t,e)}}),1):(e&&l.error&&l.error("Invalid URL"),0)}e(t.csvURL,function(e){o.update({data:{csv:e}})},"text")||e(t.rowsURL,function(e){o.update({data:{rows:e}})})||e(t.columnsURL,function(e){o.update({data:{columns:e}})})}(!0),this.hasURLOption(l))},parseGoogleSpreadsheet:function(){var l=this,n=this.options,s=n.googleSpreadsheetKey,u=this.chart,a=n.googleSpreadsheetWorksheet||1,h=n.startRow||0,d=n.endRow||Number.MAX_VALUE,c=n.startColumn||0,f=n.endColumn||Number.MAX_VALUE,e=1e3*(n.dataRefreshRate||2);return e<4e3&&(e=4e3),s&&(delete n.googleSpreadsheetKey,function t(r){var e=["https://spreadsheets.google.com/feeds/cells",s,a,"public/values?alt=json"].join("/");m.ajax({url:e,dataType:"json",success:function(e){r(e),n.enablePolling&&setTimeout(function(){t(r)},1e3*(n.dataRefreshRate||2))},error:function(e,t){return n.error&&n.error(t,e)}})}(function(e){var t,r=[],n=((e=e.feed.entry)||[]).length,s=0;if(!e||0===e.length)return!1;for(t=0;t<n;t++){var a=e[t];s=Math.max(s,a.gs$cell.col)}for(t=0;t<s;t++)c<=t&&t<=f&&(r[t-c]=[]);for(t=0;t<n;t++){s=(a=e[t]).gs$cell.row-1;var i=a.gs$cell.col-1;if(c<=i&&i<=f&&h<=s&&s<=d){var o=a.gs$cell||a.content;a=null,o.numericValue?a=0<=o.$t.indexOf("/")||0<=o.$t.indexOf("-")?o.$t:0<o.$t.indexOf("%")?100*parseFloat(o.numericValue):parseFloat(o.numericValue):o.$t&&o.$t.length&&(a=o.$t),r[i-c][s-h]=a}}r.forEach(function(e){for(t=0;t<e.length;t++)void 0===e[t]&&(e[t]=null)}),u&&u.series?u.update({data:{columns:r}}):(l.columns=r,l.dataFound())})),!1},trim:function(e,t){return"string"==typeof e&&(e=e.replace(/^\s+|\s+$/g,""),t&&/^[0-9\s]+$/.test(e)&&(e=e.replace(/\s/g,"")),this.decimalRegex&&(e=e.replace(this.decimalRegex,"$1.$2"))),e},parseTypes:function(){for(var e=this.columns,t=e.length;t--;)this.parseColumn(e[t],t)},parseColumn:function(e,t){var r,n,s=this.rawColumns,a=this.columns,i=e.length,o=this.firstRowAsNames,l=-1!==this.valueCount.xColumns.indexOf(t),u=[],h=this.chartOptions,d=(this.options.columnTypes||[])[t];for(h=l&&(h&&h.xAxis&&"category"===v(h.xAxis)[0].type||"string"===d),s[t]||(s[t]=[]);i--;){var c=u[i]||e[i],f=this.trim(c),m=this.trim(c,!0),p=parseFloat(m);void 0===s[t][i]&&(s[t][i]=f),h||0===i&&o?e[i]=""+f:+m===p?(31536e6<(e[i]=p)&&"float"!==d?e.isDatetime=!0:e.isNumeric=!0,void 0!==e[i+1]&&(n=p>e[i+1])):(f&&f.length&&(r=this.parseDate(c)),l&&g(r)&&"float"!==d?(u[i]=c,e[i]=r,e.isDatetime=!0,void 0!==e[i+1]&&((c=r>e[i+1])!==n&&void 0!==n&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,i=e.length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):e.unsorted=!0),n=c)):(e[i]=""===f?null:f,0!==i&&(e.isDatetime||e.isNumeric)&&(e.mixed=!0)))}if(l&&e.mixed&&(a[t]=s[t]),l&&n&&this.options.sort)for(t=0;t<a.length;t++)a[t].reverse(),o&&a[t].unshift(a[t].pop())},dateFormats:{"YYYY/mm/dd":{regex:/^([0-9]{4})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{1,2})$/,parser:function(e){return Date.UTC(+e[1],e[2]-1,+e[3])}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(e){return Date.UTC(+e[3],e[2]-1,+e[1])},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(e){return Date.UTC(+e[3],e[1]-1,+e[2])}},"dd/mm/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(e){var t=+e[3];return t=t>(new Date).getFullYear()-2e3?t+1900:t+2e3,Date.UTC(t,e[2]-1,+e[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(e){return Date.UTC(+e[3]+2e3,e[1]-1,+e[2])}}},parseDate:function(e){var t,r,n=this.options.parseDate,s=this.options.dateFormat||this.dateFormat;if(n)var a=n(e);else if("string"==typeof e){if(s)(n=this.dateFormats[s])||(n=this.dateFormats["YYYY/mm/dd"]),(r=e.match(n.regex))&&(a=n.parser(r));else for(t in this.dateFormats)if(n=this.dateFormats[t],r=e.match(n.regex)){this.dateFormat=t,this.alternativeFormat=n.alternative,a=n.parser(r);break}r||("object"==typeof(r=Date.parse(e))&&null!==r&&r.getTime?a=r.getTime()-6e4*r.getTimezoneOffset():g(r)&&(a=r-6e4*new Date(r).getTimezoneOffset()))}return a},rowsToColumns:function(e){var t,r;if(e){var n=[],s=e.length;for(t=0;t<s;t++){var a=e[t].length;for(r=0;r<a;r++)n[r]||(n[r]=[]),n[r][t]=e[t][r]}}return n},getData:function(){if(this.columns)return this.rowsToColumns(this.columns).slice(1)},parsed:function(){if(this.options.parsed)return this.options.parsed.call(this,this.columns)},getFreeIndexes:function(e,t){var r,n=[],s=[];for(r=0;r<e;r+=1)n.push(!0);for(e=0;e<t.length;e+=1){var a=t[e].getReferencedColumnIndexes();for(r=0;r<a.length;r+=1)n[a[r]]=!1}for(r=0;r<n.length;r+=1)n[r]&&s.push(r);return s},complete:function(){var e,t,r,n=this.columns,s=this.options,a=[];if(s.complete||s.afterComplete){if(this.firstRowAsNames)for(t=0;t<n.length;t++)n[t].name=n[t].shift();var i=[],o=this.getFreeIndexes(n.length,this.valueCount.seriesBuilders);for(t=0;t<this.valueCount.seriesBuilders.length;t++){var l=this.valueCount.seriesBuilders[t];l.populateColumns(o)&&a.push(l)}for(;0<o.length;){for((l=new x).addColumnReader(0,"x"),-1!==(t=o.indexOf(0))&&o.splice(t,1),t=0;t<this.valueCount.global;t++)l.addColumnReader(void 0,this.valueCount.globalPointArrayMap[t]);l.populateColumns(o)&&a.push(l)}if(0<a.length&&0<a[0].readers.length&&(void 0!==(l=n[a[0].readers[0].columnIndex])&&(l.isDatetime?e="datetime":l.isNumeric||(e="category"))),"category"===e)for(t=0;t<a.length;t++)for(l=a[t],o=0;o<l.readers.length;o++)"x"===l.readers[o].configName&&(l.readers[o].configName="name");for(t=0;t<a.length;t++){for(l=a[t],o=[],r=0;r<n[0].length;r++)o[r]=l.read(n,r);i[t]={data:o},l.name&&(i[t].name=l.name),"category"===e&&(i[t].turboThreshold=0)}n={series:i},e&&(n.xAxis={type:e},"category"===e&&(n.xAxis.uniqueNames=!1)),s.complete&&s.complete(n),s.afterComplete&&s.afterComplete(n)}},update:function(e,t){var r=this.chart;e&&(e.afterComplete=function(e){e&&(e.xAxis&&r.xAxis[0]&&e.xAxis.type===r.xAxis[0].options.type&&delete e.xAxis,r.update(e,t,!0))},c(!0,r.options.data,e),this.init(r.options.data))}}),m.Data=i,m.data=function(e,t,r){return new i(e,t,r)},e(r,"init",function(e){var n=this,s=e.args[0]||{},a=e.args[1];s&&s.data&&!n.hasDataDef&&(n.hasDataDef=!0,n.data=new i(t(s.data,{afterComplete:function(e){var t;if(Object.hasOwnProperty.call(s,"series"))if("object"==typeof s.series)for(t=Math.max(s.series.length,e&&e.series?e.series.length:0);t--;){var r=s.series[t]||{};s.series[t]=c(r,e&&e.series?e.series[t]:{})}else delete s.series;s=c(e,s),n.init(s,a)}}),s,n),e.preventDefault())});var x=function(){this.readers=[],this.pointIsArray=!0};x.prototype.populateColumns=function(t){var r=!0;return this.readers.forEach(function(e){void 0===e.columnIndex&&(e.columnIndex=t.shift())}),this.readers.forEach(function(e){void 0===e.columnIndex&&(r=!1)}),r},x.prototype.read=function(r,n){var s=this.pointIsArray,a=s?[]:{};if(this.readers.forEach(function(e){var t=r[e.columnIndex][n];s?a.push(t):0<e.configName.indexOf(".")?m.Point.prototype.setNestedProperty(a,t,e.configName):a[e.configName]=t}),void 0===this.name&&2<=this.readers.length){var e=this.getReferencedColumnIndexes();2<=e.length&&(e.shift(),e.sort(function(e,t){return e-t}),this.name=r[e.shift()].name)}return a},x.prototype.addColumnReader=function(e,t){this.readers.push({columnIndex:e,configName:t}),"x"!==t&&"y"!==t&&void 0!==t&&(this.pointIsArray=!1)},x.prototype.getReferencedColumnIndexes=function(){var e,t=[];for(e=0;e<this.readers.length;e+=1){var r=this.readers[e];void 0!==r.columnIndex&&t.push(r.columnIndex)}return t},x.prototype.hasReader=function(e){var t;for(t=0;t<this.readers.length;t+=1){if(this.readers[t].configName===e)return!0}}}),t(e,"masters/modules/data.src.js",[],function(){})});
